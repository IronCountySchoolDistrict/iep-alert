<!-- This page contains the pop-up content that is seen when a user clicks on the alert icon on PS Teacher and PS Admin -->
<!--
    TODO: Refactor this page so it doesn't directly use custom fields data in headerTemplate logic.
    Use javascript object to store that data instead and pass that into _.headerTemplate function
-->
<script type="text/template" id="alert-content-template">
    <div id="alert-content" style="width: auto;">
        <div class="studentAlert" id="alert-balance~(studentfrn)">
            <img class="alertImage" src="/images/icon-i.png" />
            <div class="alertContent">
                <p class="alertHeader">~(studentname)</p>
                <p>
                <ul>
                    <%
                        if('~([Students.U_sped]disability)' != '&nbsp;') {
                    %>
                        <li><span style="font-weight: bold;">Disability: </span>~([Students.U_sped]disability)</li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]behavior_plan)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Behavioral Plan</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]highlight_text)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Highlight text</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]provide_paper_notes)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Provide paper notes for the student</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]resource_room)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Resource room available for assistance</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]extended_time_oral)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Give extended time limits for oral responses</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]extended_time_limit_testing)' != '&nbsp;') {
                    %>
                        <li><span style="font-weight: bold;">Extended time limit for testing: </span>~([Students.U_Sped]extended_time_limit_testing) minutes</li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]extended_time_limit_asmt)' != '&nbsp;') {
                    %>
                        <li><span style="font-weight: bold;">Extended time limit for assignments: </span>~([Students.U_Sped]extended_time_limit_asmt) days</li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]use_calculator)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Use of calculator and/or math fact sheet</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]read_orally)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Read assignments/tests orally</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]reduce_exam_length)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Reduce length of exam</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]dont_check_spelling)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Don't check spelling unless specifically stated</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]books_on_tape)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Books on tape (if available)</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]minimize_work)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Minimize written work</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]oral_presentation)' == '1') {
                    %>
                        <li><span style="font-weight: bold;">Oral presentations may be given to teacher or in a small group setting</span></li>
                    <%
                        }
                    %>

                    <%
                        if('~([Students.U_Sped]additional_adaptions)' != '&nbsp;') {
                    %>
                        <li><span style="font-weight: bold;">Additional Classroom Adaptations: </span>~([Students.U_Sped]additional_adaptions)</li>
                    <%
                        }
                    %>
                </ul>
                </p>
                <p>Please contact
                    <%
                        if ('~([Students.U_sped]caseload)' != '&nbsp;') {
                    %>
                        ~([Students.U_sped]caseload)
                    <%
                        } else {
                    %>
                        resource teacher
                    <%
                        }
                    %>
                    if you have any questions.
                </p>
            </div>

        </div>
    </div>
</script>
<script>
    require(['underscore'], function () {
        var template = $j('#alert-content-template').html();
        var select = $j('#psDialog');
        var renderedTemplate = _.template(template, {});
        select.html(renderedTemplate);

        // When the dialog is first rendered, there isn't any content in it, so the centering is based on
        // the empty dialog box. When content is put into it, it doesn't automatically recenter itself,
        // so calling this function will recenter the dialog box.
        $j('#psDialog').dialog('option','position','center');
    });
</script>